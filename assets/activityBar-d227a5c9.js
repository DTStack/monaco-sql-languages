var f=Object.defineProperty;var l=(n,a,t)=>a in n?f(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t;var h=(n,a,t)=>(l(n,typeof a!="symbol"?a+"":a,t),t);import{B as y,A as d,s as r,f as u,g as o}from"./index-09b6a538.js";class p extends y{constructor(){super("activityBar");h(this,"state");this.state=new d}setCurrent(t){this.dispatch(e=>{e.current=t})}get(t){return this.getState().data.find(r(t))}getCurrent(){return this.getState().current}add(t,e=!1){!Array.isArray(t)&&e&&this.setCurrent(t.id),this.dispatch(i=>{const s=u(t);i.data.push(...s)})}update(t,e){const i=typeof t=="object";this.dispatch(s=>{const c=s.data.find(r(i?t.id:t));c&&Object.assign(c,i?t:(e==null?void 0:e(c))||{})})}remove(t){this.dispatch(e=>{u(t).forEach(i=>{const s=e.data.findIndex(r(i));e.data.splice(s,1)})})}toggleBar(t,e){this.dispatch(i=>{const s=i.data.find(r(t));s&&(s.hidden=typeof e=="boolean"?e:!s.hidden)})}reset(){this.setState(new d)}onClick(t){this.subscribe(o.onClick,t)}onContextMenu(t){this.subscribe(o.onContextMenu,t)}onContextMenuClick(t){this.subscribe(o.onContextMenuClick,t)}}export{p as ActivityBarService};

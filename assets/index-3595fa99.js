import{b6 as d,k as y,b4 as C}from"./index-09b6a538.js";import{u as P}from"./useMonaco-a3d737c6.js";function u({className:g,style:D,instance:e,options:c={},model:i,language:E,override:a,value:f,onMount:p,onModelMount:m}){const s=d.useRef(null),l=P();function x(){const r=document.createElement("div");return r.style.setProperty("position","relative"),r.style.setProperty("width","100%"),r.style.setProperty("height","100%"),r}return d.useEffect(()=>{if(!s.current)return;const r=e==null?void 0:e.getContainerDomNode();if(r){if(s.current.firstChild===r)return;s.current.innerHTML="",s.current.appendChild(r)}else{const o=x(),t=l.createDiffEditor(o,{...c,readOnly:!0},a);p==null||p(t)}},[e]),d.useEffect(()=>{e&&e.updateOptions(c)},[c]),d.useEffect(()=>{var r,o;if(e)if(!i||(r=i.original)!=null&&r.isDisposed()||(o=i.modified)!=null&&o.isDisposed()){const t=y.createModel((f==null?void 0:f[0])||"",E),n=y.createModel((f==null?void 0:f[1])||"",E),h={original:t,modified:n};e.setModel(h),m==null||m(h)}else{const t=e.getModel();if(i.original===(t==null?void 0:t.original)&&i.modified===(t==null?void 0:t.modified))return;e.setModel(i)}},[i,e]),C.jsx("div",{ref:s,className:g,style:{height:"100%",width:"100%",...D}})}export{u as default};

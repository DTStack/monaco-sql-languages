var D=Object.defineProperty;var O=(i,t,r)=>t in i?D(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var n=(i,t,r)=>(O(i,typeof t!="symbol"?t+"":t,r),r);import{U as v,aq as I,S as P,Q as S,R as o,V as g,W as l,X as f,Y as u,Z as d,$ as h,a0 as _,a1 as p,a2 as y,a3 as b,a4 as m,ar as Q,as as C,at as E,au as k,av as F,aw as w,ax as L,ay as T,az as j,aA as z,aB as A,aC as K,aD as M,aE as W,aF as q,aG as V,i as B,e as G}from"./index-09b6a538.js";var H=Object.defineProperty,N=Object.getOwnPropertyDescriptor,R=(i,t,r,e)=>{for(var s=e>1?void 0:e?N(t,r):t,c=i.length-1,a;c>=0;c--)(a=i[c])&&(s=(e?a(t,r,s):a(s))||s);return e&&s&&H(t,r,s),s},U=(i,t)=>(r,e)=>t(r,e,i);let x=class{constructor(i){n(this,"_services");n(this,"_container");n(this,"_keyboardFocusService");this.colorTheme=i}setKeyboardFocusService(i){this._keyboardFocusService=i}initWorkspace(i){this._container=i,this._services=this.createStandaloneServices()}get container(){return this._container}get services(){return this._services}get commandService(){return this.services.get(v)}get QuickInputService(){return this.services.get(I)}mergeEditorServices(i){if(i){const t=this.services;for(const r in i)r&&t.get(r)&&i[r]&&t.set(r,i[r])}}create(i,t,r){const e=this.services;this.mergeEditorServices(r);const s=new P(i,t,e.get(S),e.get(o),e.get(v),e.get(g),e.get(l),e.get(f),e.get(u),e.get(d),e.get(h),e.get(_),e.get(p),e.get(y),e.get(b),e.get(m));return this.colorTheme.setCurrent(this.colorTheme.getCurrent()),this._keyboardFocusService&&this._keyboardFocusService.registerEditor(s),s}createDiffEditor(i,t,r){const e=this.services;this.mergeEditorServices(r);const s=new Q(i,t,e.get(S),e.get(g),e.get(o),e.get(u),e.get(d),e.get(h),e.get(C),e.get(E),e.get(k),e.get(F));return this.colorTheme.setCurrent(this.colorTheme.getCurrent()),s}dispose(){this._keyboardFocusService&&this._keyboardFocusService.dispose()}ensureQuickInputContext(){this._keyboardFocusService&&this._keyboardFocusService.ensureQuickInputContext()}createStandaloneServices(){const i=w.initialize({}),t=new L;[S,o,v,h,g,f,W,u,d,_,F,p,y,b,m,l,q,C,E,k,V].forEach(c=>{const a=w.get(c);a&&t.set(c,a)}),t.get(T)||t.set(T,new j(t.get(o),t.get(v)));const e=i.createInstance(z),s=new A(this.container,K.codeEditorService.get(o));return t.set(M,s),t.set(I,e),this.dispose=t.dispose,t.dispose=()=>{},this._keyboardFocusService&&this._keyboardFocusService.initialize(t),t}};x=R([B(),U(0,G("colorTheme"))],x);export{x as MonacoService};

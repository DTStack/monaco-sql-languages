var l=Object.defineProperty;var p=(e,a,t)=>a in e?l(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var o=(e,a,t)=>(p(e,typeof a!="symbol"?a+"":a,t),t);import{B as u,aH as r,s as h,f as d,aI as f,aJ as n}from"./index-09b6a538.js";class x extends u{constructor(){super("notification");o(this,"state");o(this,"onClick",t=>{this.subscribe(n.onClick,t)});o(this,"onClickItem",t=>{this.subscribe(n.onClickItem,t)});o(this,"onKeyPress",t=>{this.subscribe(n.onKeyPress,t)});o(this,"onActionBarClick",t=>{this.subscribe(n.onActionBarClick,t)});this.state=new r}get(t){return this.getState().data.find(h(t))}update(t,s){this.dispatch(i=>{const c=i.data.find(h(typeof t=="object"?t.id:t));c&&Object.assign(c,typeof t=="object"?t:s==null?void 0:s(c))})}remove(t){this.dispatch(s=>{const i=s.data.findIndex(h(t));i!==-1&&s.data.splice(i,1)}),this.close(t)}open(t){this.add(t),this.dispatch(s=>{s.toasts.push(t.id)})}close(t){this.dispatch(s=>{const i=s.toasts.indexOf(t);i!==-1&&s.toasts.splice(i,1)})}closeAll(){this.dispatch(t=>{t.toasts.length=0})}add(t){this.dispatch(s=>{const i=d(t).map(c=>({...c,status:f.WaitRead}));s.data.push(...i)})}addToolbar(t){this.dispatch(s=>{s.toolbar.push(...d(t))})}clear(){this.dispatch(t=>{t.data.length=0})}reset(){this.setState(new r)}onCloseNotification(t){this.subscribe(n.onCloseNotification,t)}}export{x as NotificationService};
